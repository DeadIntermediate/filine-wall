**FiLine Wall** is a Raspberry Pi-powered project that blocks scam calls, robocalls, and telemarketers on traditional landlines using a USB modem. It uses blacklist/whitelist databases, pattern detection, probing detection, and even voice analysis (optional) to stop 99% of unwanted calls.

---

## ğŸ“¦ System Architecture

### ğŸ§± Hardware
- Raspberry Pi 3/4/5
- StarTech 56k USB Fax/Dial-up Modem (v.92)
- Connected landline

### ğŸ§° Software Stack
- Python 3.x
- pyserial / mgetty
- SQLite3 or Redis
- Optional: Flask, Whisper/Vosk, Discord.py

---

## ğŸ› ï¸ Core Functional Features

- ğŸ“ Caller ID Parsing via AT Commands
- ğŸ›‘ Blacklist & Whitelist Filtering
- ğŸ§  Call Pattern Detection & Auto-Blocking
- ğŸ”’ Call Probing Defense (<5s calls)
- ğŸ“² Discord or Telegram Alerts
- ğŸ¯ Optional IVR Challenge ("Press 1 to Continue")
- ğŸ”„ Daily External Spam List Sync (Hiya, Nomorobo, TrueCaller, Tellows)
- ğŸ“¼ Optional Voicemail Logging & STT Transcription
- ğŸ“Š Web Dashboard or CLI menu (optional)

---

## ğŸ” Call Handling Logic

1. Modem rings
2. Caller ID parsed
3. Check whitelist â†’ ring
4. Check blacklist â†’ hang up
5. Analyze call patterns
6. If unknown â†’ IVR or voicemail
7. Log and alert

---

## ğŸ§© Component Breakdown

### ğŸ”Œ Modem Interface
- Device: `/dev/ttyUSB0`
- Commands: `ATZ`, `AT+VCID=1`, `ATH`
- Read CID lines: `NMBR`, `NAME`, `DATE`

### ğŸ§  Filter Engine
- Match against local whitelist/blacklist
- Apply probing & frequency rules
- Perform action (allow, block, voicemail, challenge)

### ğŸ“¥ Call Logging (SQLite)
- `calls`, `whitelist`, `blacklist`, `call_logs` tables

### ğŸ”” Alert System
- Discord webhook or Telegram bot
- Alert on blocked, flagged, or unknown callers

---

## ğŸ“‘ Sample `config.yml`

```yaml
modem_device: /dev/ttyUSB0
baud_rate: 9600
caller_id_enabled: true
min_call_duration: 5
auto_block_threshold:
  calls_per_day: 3
  repeat_within_minutes: 15
log_path: /var/log/filinewall/
db_path: /opt/filinewall/filinewall.db
discord:
  enabled: true
  webhook_url: "https://discord.com/api/webhooks/..."
update_sources:
  - hiya
  - nomorobo
  - tellows
ğŸ“‚ Suggested Folder Structure
arduino
Copy code
filinewall/
â”œâ”€â”€ config/
â”‚   â””â”€â”€ config.yml
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ whitelist.db
â”‚   â”œâ”€â”€ blacklist.db
â”‚   â””â”€â”€ filinewall.db
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ filinewall.py
â”‚   â”œâ”€â”€ call_parser.py
â”‚   â”œâ”€â”€ notifier.py
â”‚   â””â”€â”€ call_analyzer.py
â”œâ”€â”€ logs/
â”‚   â””â”€â”€ call_logs.log
â”œâ”€â”€ voicemails/
â”‚   â””â”€â”€ [timestamp]_[number].wav
â”œâ”€â”€ dashboard/ (optional)
â”‚   â””â”€â”€ app.py
â”œâ”€â”€ services/
â”‚   â””â”€â”€ filinewall.service (systemd unit)
â””â”€â”€ README.md
ğŸ“ˆ Pattern Detection
Auto-flag short-duration calls (<5s)

Detect multiple attempts in short time

Block spoofed area codes or number patterns

Auto-quarantine suspicious numbers

ğŸ§  STT (Optional)
Record voicemail WAVs

Use Whisper or Vosk to transcribe

Detect scam keywords like "warranty", "IRS", "free", "claim", "urgent"

ğŸ“‹ Starting Task for AI Coding
Write a Python script named filinewall.py that:

Connects to /dev/ttyUSB0 with pyserial

Sends ATZ and AT+VCID=1 to enable Caller ID

Parses incoming CID output (NMBR, NAME, DATE)

Checks if number is in blacklist.db (SQLite)

If so, sends ATH to hang up

Logs all attempts to filinewall.db

Sends Discord alert for each blocked number

âœ… Project Goals
Goal	Target
Scam Block Rate	99%
Call Probing Detection	âœ…
Real-Time Alerts	âœ…
Raspberry Pi + Modem Support	âœ…
CLI or Dashboard Interface	âœ…
STT Support (optional)	âœ…
Easily Expandable	âœ…

ğŸ§  Name & Branding
Project Name: FiLine Wall
Tagline: â€œThe Firewall for Your Phone Lineâ€
Short Command Alias: filinewall